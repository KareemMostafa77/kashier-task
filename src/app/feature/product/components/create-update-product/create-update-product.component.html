<form class="mt-3" [formGroup]="pageForm" (ngSubmit)="saveChanges()">

  <div class="form-row">
    <div class="form-group col-12">
      <label>Product Name</label>
      <input type="text" class="form-control" placeholder="Name" formControlName="productName">
      <div *ngIf="pageForm.get('productName')?.hasError('required') && pageForm.get('productName')?.touched" class="text-danger">
        Product Name is required
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-12">
      <label class="d-block">Product Type</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" id="type1" value="1" checked formControlName="productType">
        <label class="form-check-label custom-radio-label" for="inlineRadio1">Type 1</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" id="type2" value="2" formControlName="productType">
        <label class="form-check-label custom-radio-label" for="inlineRadio2">Type 2</label>
      </div>
    </div>
    <div *ngIf="pageForm.get('productType')?.hasError('required') && pageForm.get('productType')?.touched" class="text-danger">
      Product Type is required
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-12">
      <label>Product Category</label>
      <input type="text" class="form-control" placeholder="Category" formControlName="productCategory">
      <div *ngIf="pageForm.get('productCategory')?.hasError('required') && pageForm.get('productCategory')?.touched" class="text-danger">
        Product Category is required
      </div>
      <div class="form-check form-check-inline mt-2">
        <input class="form-check-input" type="checkbox" id="sub-category" formControlName="isSubCategory">
        <label class="form-check-label" for="inlineCheckbox1">This is a sub-category</label>
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-12 col-md-6">
      <label>Reference ID <span class="text-muted"> ( Optional ) </span></label>
      <input type="number" min="0" step="1" oninput="this.value = Math.round(Math.abs(this.value))" class="form-control" placeholder="ID" formControlName="productRefId">
      <div *ngIf="pageForm.get('productRefId')?.hasError('min') && pageForm.get('productRefId')?.touched" class="text-danger">
        Refrence ID must be more than 0
      </div>
    </div>

    <div class="form-group col-12 col-md-6">
      <label>Password</label>
      <div class="input-group mb-2">
        <input type="{{ showPassword ? 'text' : 'password' }}" class="form-control" placeholder="Password" formControlName="productPassword">
        <div class="input-group-prepend">
          <button class="btn bg-white border" type="button" (click)="togglePassword()">
            <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </button>
        </div>
      </div>
      <div *ngIf="pageForm.get('productPassword')?.hasError('required') && pageForm.get('productPassword')?.touched" class="text-danger">
        Password is required
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-12 col-md-6">
      <label>Delivery Fees</label>
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text bg-white">EGP</div>
        </div>
        <input type="number" min="0" step="1"  class="form-control" placeholder="Delivery Fees" formControlName="productDeliveryFeesPrice">
        <div *ngIf="( pageForm.get('productDeliveryFeesPrice')?.hasError('required') || pageForm.get('productDeliveryFeesPrice')?.hasError('min') ) && pageForm.get('productDeliveryFeesPrice')?.touched" class="text-danger">
          Delivery Fees is required and more than 0
        </div>
      </div>
    </div>

    <div class="form-group col-12 col-md-6">
      <label>Delivery Fees</label>
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text bg-white">%</div>
        </div>
        <input type="number" min="0" max="100" step="1"  class="form-control" placeholder="Delivery Fees" formControlName="productDeliveryFeesPercentage">
        <div *ngIf=" ( pageForm.get('productDeliveryFeesPercentage')?.hasError('required') || pageForm.get('productDeliveryFeesPercentage')?.hasError('min') ) && pageForm.get('productDeliveryFeesPercentage')?.touched" class="text-danger">
          Delivery Fees Percentage is required and more than 0 and not more 100
        </div>
      </div>
    </div>
  </div>

  <div class="form-row justify-content-between">
    <div class="form-group col-3">
      <button type="button" class="btn btn-transparent text-danger" *ngIf="pageOperationUpdate" (click)="deleteProduct()">Delete</button>
    </div>
    <div class="form-group col-6 col-md-4">
      <button type="button" class="btn btn-transparent text-muted w-50" routerLink="/">Cancel</button>
      <button type="submit" class="btn btn-success w-50" [disabled]="!pageForm.valid">save</button>
    </div>
  </div>

</form>
